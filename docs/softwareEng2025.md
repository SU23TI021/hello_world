---
layout: page
title: "softare Eng. lecturet note"
permalink: /docs/software2025
---
# ソフトウェア工学
### 目次
- [ソフトウェア工学](#ソフトウェア工学)
    - [目次](#目次)
  - [概略](#概略)
    - [到達目標](#到達目標)
    - [ソフトウェア工学の難しいところ](#ソフトウェア工学の難しいところ)
  - [ソフトウェア工学概論](#ソフトウェア工学概論)
    - [ソフトウェアの定義](#ソフトウェアの定義)
    - [ソフトウェアに求められること](#ソフトウェアに求められること)
    - [ソフトウェア工学の定義](#ソフトウェア工学の定義)
    - [プラクティスの本質 (how to solve it)](#プラクティスの本質-how-to-solve-it)
    - [Hookerの7原則](#hookerの7原則)
    - [ソフトウェア工学の必要性](#ソフトウェア工学の必要性)
    - [運用](#運用)
      - [稼働期間とアップグレード](#稼働期間とアップグレード)
      - [スケーラブルなソフトウェア](#スケーラブルなソフトウェア)
      - [コストの種類](#コストの種類)
  - [ソフトウェアライフサイクル](#ソフトウェアライフサイクル)
    - [要件定義](#要件定義)
      - [意義](#意義)
    - [設計](#設計)
      - [WBS: Work Breakdown Structure](#wbs-work-breakdown-structure)
        - [作り方](#作り方)
    - [制作](#制作)
      - [オフショア開発](#オフショア開発)
    - [テストとデバッグ](#テストとデバッグ)
    - [保守・運用](#保守運用)
      - [ドキュメンテーション](#ドキュメンテーション)
  - [プロジェクト](#プロジェクト)
    - [キャスティング](#キャスティング)
  - [ソフトウェア分析](#ソフトウェア分析)
    - [評価](#評価)
    - [品質管理](#品質管理)
      - [バグ発生率](#バグ発生率)
  - [開発プロセス](#開発プロセス)
    - [ウォーターフォール(計画駆動)型開発プロセス](#ウォーターフォール計画駆動型開発プロセス)
      - [スパイラルモデル](#スパイラルモデル)
      - [反復型開発プロセス](#反復型開発プロセス)
    - [アジャイルプロセス](#アジャイルプロセス)
      - [12の原則](#12の原則)
      - [開発者スキル](#開発者スキル)
      - [YAGNI: You Aren’t Going to Need it](#yagni-you-arent-going-to-need-it)
      - [CRACK: Collaborative, Representative, Authorized, Committed, Knowledgeable](#crack-collaborative-representative-authorized-committed-knowledgeable)
      - [XP: eXtreme Programming](#xp-extreme-programming)
    - [リスク駆動形開発プロセス](#リスク駆動形開発プロセス)
  - [コーディング](#コーディング)
    - [PEP8](#pep8)
    - [Linter(チェックツール)](#linterチェックツール)
  - [バージョン管理](#バージョン管理)
    - [Git](#git)
      - [Gitコマンド](#gitコマンド)
    - [GitHub](#github)


## 概略

### 到達目標
&emsp;ソフトウェア・エンジニアリングの基礎知識の理解及び実務的なスキルの習得

### ソフトウェア工学の難しいところ
- **実務から体系化された知見:**<br>
  　ソフトウェア開発の経験がないと具体的なイメージが沸かない
- **知見と実践の乖離:**<br>
  　知識があっても実践は難しい
- **チーム全体での共有:**<br>
  　個人が知識を持っているだけでは不十分


## ソフトウェア工学概論
### ソフトウェアの定義
1. 実行されることによって必要な特性，機能，性能を提供する命令語群
2. プログラムが適切に情報を扱うことを可能とするデータ構造
3. プログラムの操作や使用法を記述した情報

&emsp;<ins>情報を</ins>扱うプロダクト，あるいはそれを提供する手段．
ハードウェア寄りのBIOSやデバイスドライバ， OSの機能を呼び出すAPIなどは**基本ソフト**と呼ばれ，ユーザが直接利用する応用的なものは**アプリケーションソフト**と呼ばれる．ハードウェア異なり劣化はしないが悪化はする．

### ソフトウェアに求められること
- 新しい環境や技術のニーズを満たすような**適応**
- 新しいビジネス要求を実現するための**強化**
- 近代的なシステムやデータベースと相互運用するための**拡張**
- 進化し続ける環境で実行できるような**再構築**

&emsp;ソフトウェア工学では進化論に基づきこれらを達成する方法を考え出すことが目標になる．

### ソフトウェア工学の定義
>&emsp;ソフトウェアの開発，運用，メンテナンス対するシステマティックであり，ディシプリン(規律)により定量化できるアプローチの適用，すなわちソフトウェアに対するエンジニアリングの適用．(IEEE)

&emsp;「品質」・「コスト」・「納期」の最適なバランスを実現することも必要である．ソフトウェアエンジニアリングツールは，プロセスや手法を全自動もしくは半自動化する．

### プラクティスの本質 (how to solve it)
1. 問題を理解する　　　　　　: コミュニケーションと分析
2. 解決策を計画する　　　　　: モデリングとソフトウェア設計
3. 計画を実行に移す　　　　　: コード実装
4. 結果が正しいことを理解する: テストと品質保証

### Hookerの7原則
1. **システムが存在する唯一の理由**<br>
   　システムはユーザーに価値を提供するためにある．
2. **シンプルにしておけ！ (KISS: Keep It Simple, Stupid!)**<br>
   　すべての設計は可能な限りシンプルであるべきである．
3. **ビジョンを持ち続けよ**<br>
   　ソフトウェアプロジェクトの成功には明確なビジョンが不可欠である．
4. **あなたの作ったものを他の人が使用する**<br>
   　あなたのやっていることを他人が理解しなければならないということを常に考えながら仕様を決め，設計し，ドキュメントを書き，実装するべきである．
5. **未来へオープンであれ**<br>
   　コンピュータ環境の仕様変更に対応すべく，一般的な問題を解決するシステムを構築して，可能な限り多くの選択肢を与えられるよう準備しておくべきである．
6. **再利用に先駆けて計画せよ**<br>
   　コストを低減し，再利用するコンポーネントとそれを取り込むシステムの両方の価値を高める．
7. **考えよ！**<br>
   　行動を起こす前に簡潔明瞭な考えをもつことは，必ずと行ってよいほどよい結果を生む．

### ソフトウェア工学の必要性
1. **大規模化と複雑さ**<br>
   　ソフトウェア無しでは社会がま回らな．
2. **IT人材の不足**<br>
   1. 量的問題: ソフトウェアの需要に対して人材が不足している．
   2. 質的問題: 効率的な開発・管理できる人材が不足している．
3. **社会性と求められるミッション**<br>
   　ライフライン・インフラとしてのソフトウェアが増加し，不測の事態が発生してもサービスの継続ができるような対応が求められる．
4. **不確実性の増大**<br>
   　検索型から交流型への転換や意図しないソフトウェアの活用といった，ソフトウェア利用の変化や多様化に対応した開発が求められる．<br>
   例) Hyrumの法則<br>
   　あるAPIに十分な数のユーザーがいるとき，APIを作った者自身が契約仕様として何を約束しているかは重要ではない．作られたシステムが持つあらゆる観察可能な挙動に関して，それに依存するユーザーが出てくるものである．
   

### 運用

#### 稼働期間とアップグレード
&emsp;以下のような保守管理対応の量は，プログラミングの稼働期間に応じてロジスティック関数に沿うような増加をする．
- 想定内
  - バージョン更改
  - コード管理
- 想定外
   - トラブル
   - ユーザ需要
   - 新技術
   - チーム管理

#### スケーラブルなソフトウェア
　「変更すべき全てのものを安全に変更可能で，かつコードベースの存続期間を通してそれが可能であるとき，組織のコードベースは持続可能である」とう考えかたに基づくソフトウェ．スケールする必要のある有限のリソースには，人件費，コンピュータ，メモリ，ストレージの他，開発者の時間やワークフローなどが挙げられる．

#### コストの種類
- **財務コスト**: 例) 資金
- **資源コスト**: 例) CPU時間
- **人件コスト**: 例) エンジニアリング労力
- **処理コスト**: 例) 行動を取る場合の労力
- **機会コスト**: 例) 行動を取らない場合の労力
- **社会コスト**: 例) 選択が社会に及ぼす影響


## ソフトウェアライフサイクル
&emsp;ソフトウェアは以下のような仮定を辿．
- 誕生
  - ニーズの発生
  - ビジネス・システム上の要求を具体化するための企画・計画
  - 要件定義書
- 開発・運用
  - 開発
  - 実稼働
  - 保守運用
- 廃止
  - サービスの終了
  - リニューアル

### 要件定義
&emsp;実現する機能・しない機能を明確にすること．実現性評価としてFeasibility Studyがある．これを機能の絞り込み，スケジュールの見直し，代替策の検討などにつなげ．企業によっては要件定義項目をテンプレート化し，もれなく検討ができる工夫もある．内容としては以下のものが挙げられる．

- システムの目的
- システムの概要
- システムの機能
- システム構成（システム構成図，ソフトウェアブロック図）
- 目標性能
- 他システムとのインターフェイス仕様
- 運用面の注意事項
- 制限事項
- 拡張性
- 開発スケジュール
- 開発体制
- 納品物

#### 意義
- プロジェクト関係者のバイブル
  - スコープの共有
- 社内外への宣言と協力依頼
  - プロジェクト内容を明文化し，協力を仰ぐ
- Request for Proposal (RFP)
  - 外部委託資料
  - ベンダーからのシステム提案を要求

### 設計
&emsp;要件定義書から設計書へ移行する作．クラスやモジュールなど，コーディングができるレベルの仕様書に落とし込．WBSの作成も行う．

#### WBS: Work Breakdown Structure
&emsp;プロジェクト目標を達成し，必要な要素成果物を生成するために，プロジェクトチームが実行する作業(Work)を，要素成果物を主体に階層的に要素分解(Breakdown)した構成図(Structure)．作業を作業順に並べることで，スコープや全体管理，作業計画が明確になるというメリットがあり，プロジェクト実施時はWBSに則り実行するのみとなる．

##### 作り方
1. スコープを明確にする<br>
   　トップダウンかつバックキャスティングのアプローチで決定する．
2. 大きな作業をグルーピングする<br>
   例) データ収集，データ分析，可視化
3. グループングした作業の相互関連を考える<br>
   例) データを収集し終えたあとで分析をする．
4. 各グループの作業を洗い出す．<br>
   　漏れ被りなく洗い出す手法としてMECE: Mutually Exclusive and Collectively Exhaustiveがある．

### 制作
&emsp;設計書に従ってシステム構築する作．内製と調達で以下のように分けられる．
- 内製(自社開発)<br>
  　一部機能を機能をパッケージとして購入したり，外部委託することも
- 調達(外部委託)<br>
  　ソースコードを納品物に含めるか否か
  - 含める場合<br>
  　メンテナンスは自社で可能
  - 含めない場合<br>
  　メンテナンスは作業委託契約を締結する必要がある

#### オフショア開発
&emsp;賃金の安い海外企業に外部委託する手法．
文化・言語・商習慣・品質に対する意識の違いに注意する必要がある．
なお，現在は昔に比べて海外の賃金が安くはなく，今後日本のIT企業はオフショア開発される側になるのではないかという予想もある．

### テストとデバッグ
&emsp;バグのないソフトウェアはないため，あらかじめテストしバグを早期に発見・対処することが理想である．しかし，全ての条件をテストするのは工数的に限界があり不可能なため，どこをどの程度テストするのか決める必要がある．

### 保守・運用
&emsp;システムの稼働時間と故障率はバスタブ曲線で増減をする．
システムの稼働後のデータをプロアクティブに活用し，ソフトウェア以外の要因も考慮して保守と運用を進める必要がある．

#### ドキュメンテーション
&emsp;開発者はプロジェクトから離れている可能性があり，仕様を文書としてまとめておくことが重要である．

&emsp;また，複数人で開発するきには文書による非同期なコミュニケーションが重要である．今後，日本でも海外のプロジェクトが増加したり，IT技術のほとんどは海外線であるから，共通言語として英語を使うことも必要になってく．


## プロジェクト
&emsp;プロジェクトは有期性の必ず終わりがある類の仕事とソフトウェア開発のような目的を達成する類の仕事に分けられる．

### キャスティング
- **フォアキャスティング**<br>
  　どれだけやったかというインプット視点で考え，今の立ち位置から順に目標に進んでいく．目標に到達できない可能性がある．
- **バックキャスティング**<br>
  　何を成し遂げたかというアウトプット視点で考え，定めた目標に向けて何が必要かを計画し達成に向かう．目標と道筋を明確に検討・設定する必要がある．
  目標は道筋は適宜修正可能であることが多く，プロジェクト業務はバックキャスティングで行う．

## ソフトウェア分析
&emsp;ソフトウェアを見える化するための手法として，ソフトウェアの物量，実行性能，開発工数，品質に関する分析がそれぞれあり，**QCD**(Quality: 品質, Cost: 費用, Delivry: 納期)の設定に利用される．人命に影響があるようなシステムでは品質が，公共関連のシステムには費用が，イベント行事に関連するシステムには納期が優先される．

### 評価
&emsp;ソフトウェアの価値を測るには以下の評価法がる．
1. コードの物量(ステップ数)<br>
  　ソースコード行数(総ステップ数)．言語ごとに異なるので換算の必要がある．
2. コードの物量(オブジェクト容量)<br>
  　組み込み型ソフトウェアではこのサイズが小さいほど良いとされる．
3. ファンクションポイント(FP)法<br>
  　プログラミングフェーズに入る前にユーザー要件が定まり，必要な機能が見えてきた段階でシステム規模を概算することができる．

  &emsp;$\text{FP}値＝基準値×(0.65+調整値/100)$

  &emsp;$原価＝FP値×作業単価×換算値$

4. 使い勝手<br>
  　以下のような項目で測る．
  - 画面の視認性
  - 操作性
  - 入力補助
  - 互換性
  - ガイダンス

### 品質管理
&emsp;Hyrumの法則にも考慮しつつ，テストはいつまで行うのか，どのタイミングでバグに対処するのかを検討し，品質を管理しなければならない．

#### バグ発生率
&emsp;1ステップ数(改行を除いたコード行数)あたりの発生バグ数のこと．

## 開発プロセス

### ウォーターフォール(計画駆動)型開発プロセス<br>
&emsp;進捗管理が容易，成果物が明確である一方，後工程にしわ寄せが集中というリスクがある．

#### スパイラルモデル<br>
&emsp;プログラム開発を小さなフェーズに分割し，フェーズごとにプロトタイプによるデモンストレーション→フィードバックを行う．

#### 反復型開発プロセス<br>
&emsp;ソフトウェアを機能分割し，これを「反復」と呼ぶ単位で管理する．部分的に完成させていくので，顧客の要求を取り入れやすかったり，部分的な納品が可能であったりするというメリットがある一方，分割するための作業や管理業務が増えたり，全体像が見えずらかったりするというデメリットがある．また，一括して稼働するシステムは分割しても意味がなくなってしまう．

###  アジャイルプロセス<br>
&emsp;"agile"は「機敏な」，「俊敏な」を意味する．変化に対応して無駄を廃し，最適な手法で動くソフトウェアの提供を優先する手法．「できるだけ決定を遅らせる」，「できるだけ早く提供する」を実現する．また，モチベーションを上げ，学習効果を高める効果もある．スクラムペアプログラミングやテスト駆動型開発などが行われる．

#### 12の原則
1. ソフトウェアの早期，継続的な納品によって顧客の満足度を達することが最優先である．
2. 開発の終盤であろうとも，要求内容の変更を欲迎する．アジャイルなプロセスは，顧客の競争上の優位性のため，変化を制する．
3. 数週間から数か月のサイクルでソフトウェアを納品する，サイクルは短いほうがよい．
4. ビジネス側の人間と開発者がプロジェクトを通じて日々協力しなければならない．
5. 志の高い開発者を中心にプロジェクトを編成する．必要な環境や支援を与え，任務をやり遂げることを信じること．
6. 開発チームの内外で最も効率的で効果的な情報伝達を行う手段は，顔を突き合わせることである．
7. 動作するソフトウェアが主たる進捗の確認手段である．
8. アジャイルなソフトウェア開発は，持続的な開発を促する．開発資金の提供者，開発者，ユーザは，必ず一定のペースを守るべきである．
9. 技術力とよい設計に絶えず気を配ることで，機敏さを向上する．
10. 不必要なことは行わないという簡潔さは本質的である．
11. 自己組織化されたチームから最新のアーキテクチャ，要求，設計が生まれる．
12. 定期的に，チームはもっと効果的になる道を考え，開発の進め方を調和させ，調整する．

#### 開発者スキル
&emsp;開発者は以下の5レベルに分けられ，アジャイルでは1A以上のメンバーがチームに入る．
| レベル |                                               特徴                                               |
| :----: | :----------------------------------------------------------------------------------------------: |
|   3    |                 先例のない新しい状況に適合するために手法を改定することができる．                 |
|   2    |             先例のある新しい状況に適合するために手法をカスタマイズすることができる．             |
|   1A   |           トレーニングを受ければ手法の手順のうち自動裁量の部分を遂行することができる．           |
|   1B   |            トレーニングを受ければ手法の手順のうち手続的な部分を遂行することができる．            |
|   -1   | 技術的スキルは持ち合わせているかもしれないが，強調したり共通の手法に従ったりすることができない． |

#### YAGNI: You Aren’t Going to Need it
&emsp;必要ないものは作らないという考えかた．必要なものを必要な時に必要なだけ生産する**カンバン方式**とうものがある

#### CRACK: Collaborative, Representative, Authorized, Committed, Knowledgeable
&emsp;顧客が協力的で，意思がはっきりしており，権限があり，献身的で，知識があるという，アジャイル開発に好ましい条件

#### XP: eXtreme Programming
&emsp;アジャイル開発の中でも特に短期間での開発を繰り返す手法．

### リスク駆動形開発プロセス
&emsp;下記の例のような想定されるリスクを予め把握する開発プロセス．
計画駆動型
- 技術的課題
- 規模拡大/縮小
アジャイル
- 人的リスク
共通
- ニーズの変化
- 政治的要因
- 社会的要因

&emsp;予測不可能なリスクとしては天災やメンバーの事故・病気，開発環境のクラッシュなどが挙げられる．

## コーディング
&emsp;Pythonコードのスタイルガイドにはコードは書くよりも読まれることの方が多いとある．
そのため，ソフトウェア開発では他人と未来の自分が読みやすいコードを書くことが必須であり，
そのためのルールが必要となってくる．

### PEP8
&emsp;Pythonのコーディングの1つである．以下のようなルールが存在する．
- コードレイアウト
  - 画面に収まるように通常，1行は79文字以内にする．docstringやコメントは72文字以内にする．
  - 行を継続する場合は折り返された要素を縦に揃える．
  - 1レベルインデントするごとにスペース(タブではなく)を4つ使う．
- スペース
  - 演算子の前後にスペースを前後に1つずつ空ける．優先度の異なる演算が混じる場合，高優先度の演算子の前後にスペースを入れる．
  - 無駄なスペースを入れない．
- 改行
  - if文やfor文を同じ行に書かない．
  - 演算子の位置を揃える．
- import順

  1. 標準ライブラリ
  2. サードパーティに関連するもの
  3. ローカルな アプリケーション/ライブラリ に特有のもの
- コメント
  - 矛盾したコメントは厳禁である．コードを更新したら逐次コメントも更新する．
  - コメントは完全な文で書くべきである．識別しの大文字小文字を変更してはならない．
  - ブロックコメントでは段落を用い，各文はピリオド(句点)で締められるべきである．
  - 他の人から見ても明快かつ分かりやすくするべきである．
  - 英語話者でなくても英語でコメントを書くべきである．
- 命名規則
  - パッケージ: 全て小文字でアンダースコアは使わない
  - モジュール: 全て小文字でアンダースコアは使ってもよい
  - クラス: CapWords方式(先頭が大文字の単語を連ねる)
  - 関数・メソッド: 全て小文字でアンダースコアは使ってもよい
  - 定数: 全て大文字で単語をアンダースコアで区切る
  - 変数・引数: 全て小文字でアンダースコアは使ってもよい
  - 1文字変数: l(小文字のエル),O(大文字のオー),I(大文字のアイ)は使わない
- その他
  - UTF-8以外のエンコーディングは可能な限り使わない
  - ASCII文字以外の使用を極力避ける
  - プロジェクトの中で一貫性を保つことはPEP8に従うよりも重要

### Linter(チェックツール)
- flake8: PEP8に基づくコードチェックツール
- pylint: vscodeのディフォルトツール

## バージョン管理
&emsp;ファイルを「いつ」「誰が」「どのように」変更したのか管理する．これらの情報が管理されていれば，多数のメンバーと共同でコード開発が行える．

- 集中管理
  
  &emsp;Subversionをプロジェクトを1つの場所で管理するバージョン管理方法．同時に編集するとコンフリクトが発生するほか，同期に時間がかかる．
- 分散管理
  
  &emsp;gitを始めとしたプロジェクトを各々の環境でも管理するバージョン管理方法．障害に頑健である．

### Git
&emsp;分散管理型のバージョン管理システムの1つ．元々はオープンソースソフトウェア管理のためのソフトウェアであった．変更履歴が残る，変更した箇所に戻ることができる，他人とと共同編集できるといった特徴がある．以下のような用語が用いられる．
- Gitディレクトリ: Gitの管理情報が詰まった隠しディレクトリで環境ごとに生成される．
  - .gitignore: Gitに管理してほしくないファイルを指定する
- コミット: ファイルの作成/変更/削除を記録すること，またはしたもの．いつ，誰が，何を，どのようにといった情報が自動で保存される他，どのような変更をしたのかをコメントに残せる．
- リポジトリ: gitが管理するプロジェクトのフォルダ．個々の環境であるローカルリポジトリと共有の管理場所となるリモートリポジトリが存在する．リモートリポジトリを実現するためのサービスとしてGitHubやGitLabなどが存在する．
- ワークツリー: ユーザが実際に編集する作業ディレクトリ．
- ステージングエリア(インデックス): 次にコミットする内容を一時的に保存しておく場所．
- ファイル状態
  - untracked: gitで管理されていない状態．
  - unmodified: gitで管理されているが変更されていない状態．
  - modified: gitで管理されていて変更された状態．
  - staged: ステージングエリアに登録された状態．
- プッシュ: ローカルリポジトリの変更をリモートリポジトリに反映されること．
- プル: リモートリポジトリの内容をローカルリポジトリに反映させること．その承諾依頼をプルリクエストと呼ぶ．
- ブランチ: 作業を枝分かれさせること．
  - Gitフロー: 複数人・長期開発に向いたブランチ運用のルール．

#### Gitコマンド
- git init: gitの初期化・設定開始
- git status: ワークツリーのステータスを表示
- git config: 設定周りを確認・変更
- git log: ログの表示
- git diff: 差分ファイルを表示
- git add: ファイルをステージングエリアに追加
- git commit: コミットを実行
- git reset: コミットをリセット
- git revert: コミットの変更を打ち消す
- git rm: ファイルとステージングエリアの情報を削除
- git clone: レポジトリを複製
- git pull: リモートレポジトリの同期
- git push: 変更をアップロード
- git request-pull: 変更依頼
- git remote: リモートレポジトリの設定
- git branch: ブランチの作成
- git checkout: ブランチの切り替え
- git meerge: 履歴を残してブランチを統合
- git rebase: 履歴を整理してブランチを統合

### GitHub
&emsp;リモートレポジトリのホスティングサービスの1つで，オープンソースソフトウェアの主要なポータルサイト．GitHubフローと呼ばれる運用上のルールがある．
- fork: 開発に貢献するために他人のリモートリポジトリを自分の環境に履歴と共に複製すること．
- template: 他人のリモートリポジトリを雛形として自分の環境に複製すること．
- issues: レポジトリに関する問題・課題・バグ・機能追加や質問などを挙げるための機能．
- projects: issuesを管理するためのテーブル．
